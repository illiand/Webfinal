function newUI(e,t){null==e&&(e="div");let n=document.createElement(e);return n.id=globalID++,n.style.position="absolute",n.style.caretColor="transparent",n.style.opacity=1,n.style.draggable="false",n.style.userSelect="none",null!=t&&t.appendChild(n),n}function changeUIStatus(e,t,n,l,i){e.style.left=t+"%",e.style.top=n+"%",e.style.width=l+"%",e.style.height=i+"%"}function newBackground(e,t,n,l,i,o,s,r,a){let y=newUI();return y.style.left=e+"%",y.style.top=t+"%",y.style.width=n+"%",y.style.height=l+"%",y.style.backgroundColor="rgba("+255*i+","+255*o+","+255*s+","+r+")",y.style.backgroundSize="100% 100%",y.style.backgroundRepeat="no-repeat",y.style.backgroundBlendMode="Overlay",a.appendChild(y),y}function newTexture(e,t,n,l,i,o,s){let r=newUI();return r.style.left=e+"%",r.style.top=t+"%",r.style.width=n+"%",r.style.height=l+"%",r.style.opacity=o,r.style.backgroundImage="url("+i+")",r.style.backgroundSize="100% 100%",r.style.backgroundRepeat="no-repeat",r.style.backgroundBlendMode="Overlay",r.style.pointerEvents="none",s.appendChild(r),r}function newText(e,t,n,l){let i=newUI();i.style.position="relative",i.style.left=e+"%",i.style.top=t+"%";return i.style.fontFamily={EN:"Palatino Linotype",ZH:"KaiTi",JP:"UD Digi Kyokasho NP-R"}[LAN],i.style.fontSize=canvasHeight/747*100+"%",i.innerHTML=n,l.appendChild(i),i}function setTextSize(e,t){e.style.fontSize=canvasHeight/747*t+"%"}function newBButton(e,t,n,l,i,o,s,r,a,y,u){let d=newBackground(e,t,n,l,o,s,r,a,y);d.style.pointerEvents="auto",d.style.cursor="pointer",y.appendChild(d);let p=newText(0,0,i,d);return p.style.textAlign="center",1==u?[d,p]:d}function newTButton(e,t,n,l,i,o,s,r,a){let y=newTexture(e,t,n,l,o,s,r);y.style.pointerEvents="auto",y.style.cursor="pointer",r.appendChild(y);let u=newText(0,0,i,y);return u.style.textAlign="center",1==a?[y,u]:y}function newVideo(e,t,n,l,i,o){let s=newUI();s.style.overflow="hidden",s.style.left=e+"%",s.style.top=t+"%",s.style.width=n+"%",s.style.height=l+"%",s.style.aspectRatio="16/9";let r=newUI("iframe");r.src=i,r.setAttribute("allowfullscreen","allowfullscreen"),r.setAttribute("frameborder","0"),r.style.width="100%",r.style.height="100%",o.appendChild(s),s.appendChild(r);let a=newText(0,0,"Your browser doesn't support video",o);return r.appendChild(a),r}function setVisible(e,t){e.style.visibility=t?"visible":"hidden"}function setRotation(e,t){e.style.transform="rotate("+t+"deg)"}function destroy(e){e.remove()}function destroyAfter(e,t){let n=0,l=60*t;var i=function(){l!=(n+=1)+1?requestAnimationFrame(i):destroy(e)};i()}function animateAlpha(e,t,n,l,i){isRunning=!0;let o=0,s=60*l;var r=function(){if((o+=1)==s+1)return isRunning=!1,void(null!=i&&i());e.style.opacity=lerp1(t,n,o/s),requestAnimationFrame(r)};r()}function animateTransform(e,t,n,l,i){isRunning=!0;let o=0,s=60*l;var r=function(){if((o+=1)==s+1)return isRunning=!1,void(null!=i&&i());e.style.left=lerp1(t.x0,t.x1,o/s)+"%",e.style.top=lerp1(t.y0,t.y1,o/s)+"%",e.style.width=lerp1(n.x0,n.x1,o/s)+"%",e.style.height=lerp1(n.y0,n.y1,o/s)+"%",requestAnimationFrame(r)};r()}function IMG_PRELOAD(e){(new Image).src=e}
